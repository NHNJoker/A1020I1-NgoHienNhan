<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Máy tính</title>
    <style>
        button{
            width: 50px;
        }
    </style>
</head>
<body>
    <table>
        <tr>
            <td colspan="5" id="hienThi">
                <form name="form1">
                    <input name="input1" type="text" id="input" style="width: 250px;height: 30px">
                </form>
            </td>
        </tr>
        <tr>
            <td>
                <button onclick="num(1)" id="1" name="1" value="1">1</button>
            </td>
            <td>
                <button onclick="num(2)" id="2" name="1">2</button>
            </td>
            <td>
                <button onclick="num(3)" id="3" name="1">3</button>
            </td>
            <td>
                <button onclick="phepTinh('+')" id="add" name="add">+</button>
            </td>
            <td rowspan="4">
                <button style="height: 92px" onclick="xoa()" type="button" value="ac">AC</button>
            </td>
        </tr>
        <tr>
            <td>
                <button onclick="num(4)" id="4" name="1">4</button>
            </td>
            <td>
                <button onclick="num(5)" id="5" name="1">5</button>
            </td>
            <td>
                <button onclick="num(6)" id="6" name="1">6</button>
            </td>
            <td>
                <button onclick="phepTinh('-')" id="sub" name="sub">-</button>
            </td>
        </tr>
        <tr>
            <td>
                <button onclick="num(7)" id="7" name="1">7</button>
            </td>
            <td>
                <button onclick="num(8)" id="8" name="1">8</button>
            </td>
            <td>
                <button onclick="num(9)" id="9" name="1">9</button>
            </td>
            <td>
                <button onclick="phepTinh('*')" id="multi" name="multi">X</button>
            </td>
        </tr>
        <tr>
            <td>
                <button onclick="num(0)" id="0" name="0">0</button>
            </td>
            <td>
                <button onclick="num('.')" id="cham" name="cham">.</button>
            </td>
            <td>
                <button onclick="ketQua('=')" id="result" name="result">=</button>
            </td>
            <td>
                <button onclick="phepTinh('/')" id="div" name="div">/</button>
            </td>
        </tr>
    </table>
    <script>
        var text = " ",flag=1,flag1=1,flag2=2,value=0,phep="!",an=0,ans=0;
        function num(A) {
            text = text + A;
            document.form1.input1.value=text;
            //câu lệnh này dùng để hiển thị số đã nhập từ bàn phím lên text trong from
            if (flag1==0)flag=2;
            an=eval(document.form1.input1.value);
            //eval tính biểu thức toán nhập vào
        }
        function phepTinh(B) {
            if (flag==1){
                value=eval(document.form1.input1.value);
                flag1=0;
                phep=B;
                text=value+B;
                //nếu người dùng click vào các buton phép tính thì sẽ kiểm tra flag nếu flag=1 thì
                //gán value bằng dãy số flag1 nhập vào trên text, gán flag1=0 để kiểm tra lại tại funtion num(), gán phep=B
                //để thực hiện phép tính ở function calculate()
            }
            else {
                calculate();
                phep=B;
                flag=1;
                an=eval(document.form1.input1.value);
            }
        }
        function ketQua() {
            if (flag2!=2){
                value=an;
            }
            calculate();
            flag2=3;
        }
        function calculate() {
            if (phep=="+"){
                ans=value+eval(document.form1.input1.value);
            }else {
                if (phep=="-"){
                    ans=value-eval(document.form1.input1.value);
                }else {
                    if (phep=="*"){
                        ans=value*eval(document.form1.input1.value);
                    }else {
                        ans=value/eval(document.form1.input1.value);
                    }
                }
            }
            document.form1.input1.value=ans;
            value=eval(document.form1.input1.value);
            text=""
        }
        function xoa() {
            text ="",flag1=1,flag=1,flag2=2,value=0,phep="!",an=0,ans=0;
            document.form1.input1.value=text;
        }
    </script>
</body>
</html>